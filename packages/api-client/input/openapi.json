{"openapi":"3.1.0","info":{"title":"","description":"pointguard api","version":""},"paths":{"/api/v1/version":{"get":{"responses":{"default":{"description":"plain text","content":{"text/plain; charset=utf-8":{}}},"200":{"description":"plain text","content":{"text/plain; charset=utf-8":{}}}}}},"/api/v1/tasks":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["endpoint","jobName"],"properties":{"data":{"description":"The data that will be passed on execution."},"endpoint":{"description":"The pointguard endpoint that'll be invoked","type":"string","format":"uri"},"jobName":{"description":"The job name. This is used to know which function to invoke.","type":"string"},"maxRetries":{"type":["integer","null"],"format":"uint","minimum":0.0},"name":{"description":"A name for the task. If not provided, a random name will be generated. This is useful to throttle tasks of the same type.","type":["string","null"]},"runAt":{"description":"When to run the task. If not provided, it'll run as soon as possible.","type":["string","null"],"format":"date-time"}}}}},"required":true},"responses":{"default":{"description":"plain text","content":{"text/plain; charset=utf-8":{}}},"200":{"description":"","content":{"application/json":{"schema":{"type":"integer","format":"int64"}}}}}}},"/api/v1/tasks/{id}/cancel":{"post":{"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","format":"int64"},"style":"simple"}],"responses":{"default":{"description":"plain text","content":{"text/plain; charset=utf-8":{}}}}}},"/api/v1/tasks/enqueued":{"get":{"responses":{"default":{"description":"plain text","content":{"text/plain; charset=utf-8":{}}},"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","required":["createdAt","data","endpoint","id","jobName","maxRetries","name","retryCount","runAt"],"properties":{"createdAt":{"type":"string","format":"date-time"},"data":true,"endpoint":{"type":"string"},"id":{"type":"integer","format":"int64"},"jobName":{"type":"string"},"maxRetries":{"type":"integer","format":"int32"},"name":{"type":"string"},"retryCount":{"type":"integer","format":"int32"},"runAt":{"type":"string","format":"date-time"},"workerId":{"type":["string","null"]}}}}}}}}}},"/api/v1/tasks/finished":{"get":{"responses":{"default":{"description":"plain text","content":{"text/plain; charset=utf-8":{}}},"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","required":["createdAt","data","endpoint","id","jobName","name","retries","startedAt"],"properties":{"createdAt":{"type":"string","format":"date-time"},"data":true,"endpoint":{"type":"string"},"errorMessage":{"type":["string","null"]},"id":{"type":"integer","format":"int64"},"jobName":{"type":"string"},"name":{"type":"string"},"retries":{"type":"integer","format":"int32"},"startedAt":{"type":"string","format":"date-time"}}}}}}}}}}}}